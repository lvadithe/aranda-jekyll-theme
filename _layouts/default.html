<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Tus etiquetas de encabezado y estilos aquí -->
    <style>
        /* Estilos para el selector de idiomas */
        #languageSelector img {
            transition: box-shadow 0.3s;
            border-radius: 50%;
        }
        #languageSelector img:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>

<!-- Contenido principal -->
<div class="sg-pusher" style="display: flex">
    <aside id="sidebar">
        <!-- Contenido del sidebar -->
    </aside>
    <main id="sgMain" class="sg-main" style="display: flex; flex-direction: column; flex-grow: 1; padding: 20px; margin-left: 285px;">
        <!-- Selector de idiomas -->
        <div id="languageSelector" style="position: absolute; right: 45px; top: 20px; display: flex; flex-direction: column; align-items: flex-end;">
            <img src="{{ site.baseurl }}/assets/images/ic_language.svg" alt="Language Selector" onclick="toggleLanguageSelector()" style="cursor: pointer; height: 30px; width: 30px;" />
            <select id="language" onchange="changeLanguageAndCloseSelector()" style="padding: 3px; margin-top: 10px; border: 1px solid #000; border-radius: 5px; cursor: pointer;">
                <option value="es">Español</option>
                <option value="en">Inglés</option>
                <option value="pt">Portugués</option>
            </select>
        </div>

        <!-- Contenido dinámico que cambia según el idioma -->
        <div style="flex-grow: 1; box-sizing: border-box; overflow-y: auto;">
            {{ content }}
        </div>

        <!-- Footer u otros elementos -->
    </main>
</div>

<!-- Scripts al final del cuerpo -->
<script>
    function toggleLanguageSelector() {
        var languageSelector = document.getElementById("language");
        languageSelector.style.display = (languageSelector.style.display === "none" || languageSelector.style.display === "") ? "inline-block" : "none";
    }

    function changeLanguageAndCloseSelector() {
        var selectedLanguage = document.getElementById("language").value;
        var baseUrl = window.location.origin; // Obtiene la URL base actual
        var jekyllBaseUrl = "{{ site.baseurl }}"; // Obtiene la URL base de Jekyll (asegúrate de que esta variable esté definida correctamente en tu contexto)
        var newUrl = `${baseUrl}${jekyllBaseUrl}/pages/${selectedLanguage}`;

        // Aquí redirige a la nueva URL según el idioma seleccionado
        window.location.href = newUrl;

        // Cierra el selector de idiomas después de seleccionar
        closeLanguageSelector();
    }

    function closeLanguageSelector() {
        var languageSelector = document.getElementById("language");
        languageSelector.style.display = "none";
    }

    // Cierra el selector de idioma si se hace clic fuera de él
    document.addEventListener("click", function (event) {
        var languageSelector = document.getElementById("language");
        var languageImage = document.querySelector("#languageSelector img");

        if (event.target !== languageSelector && event.target !== languageImage) {
            closeLanguageSelector();
        }
    });
</script>

<!-- Otros scripts y referencias -->
</body>
</html>
